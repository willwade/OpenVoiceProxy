appId: org.openvoiceproxy.app
productName: OpenVoiceProxy
directories:
  output: dist
files:
  - src/**/*
  - node_modules/**/*
  - package.json
  - ui/**/*
  - assets/**/*
  - from: ../tts-proxy/dist
    to: node_modules/openvoiceproxy/dist
  - from: ../tts-proxy/node_modules
    to: node_modules/openvoiceproxy/node_modules
  - from: ../tts-proxy/package.json
    to: node_modules/openvoiceproxy/package.json
extraResources:
  - from: dist/CallTTS.exe
    to: cli/CallTTS.exe
extraFiles:
  - from: dist/CallTTS.exe
    to: CallTTS.exe
asar: true
# Only build for Windows (no macOS)
mac:
  target: []
win:
  target:
    - target: nsis
      arch:
        - x64
  icon: assets/icon.ico
  verifyUpdateCodeSignature: false
nsis:
  oneClick: false
  # Per-user installation (no admin required)
  perMachine: false
  allowToChangeInstallationDirectory: true
  allowElevation: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: OpenVoiceProxy
  # Run on startup option
  runAfterFinish: true
  menuCategory: true
  include: scripts/installer.nsh
