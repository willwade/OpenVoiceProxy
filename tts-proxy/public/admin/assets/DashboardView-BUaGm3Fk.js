import{_ as p}from"./AppLayout.vue_vue_type_script_setup_true_lang-BBHnyAEY.js";import{u as m}from"./keys-C8YZCgxo.js";import{u as f}from"./engines-D2HShPZS.js";import{d as _,c as h,o as w,a as k,w as g,r as E,b as a,e,t as s,n as c,f as r,u,F as K,g as S,h as y,i as b}from"./index-DdglvfZT.js";const A={class:"space-y-6"},C={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},O={class:"bg-white rounded-lg shadow p-6"},V={class:"text-3xl font-bold text-blue-600"},B={class:"bg-white rounded-lg shadow p-6"},j={class:"text-3xl font-bold text-green-600"},D={class:"bg-white rounded-lg shadow p-6"},L={class:"text-3xl font-bold text-purple-600"},N={class:"bg-white rounded-lg shadow p-6"},P={class:"bg-white rounded-lg shadow"},z={class:"p-6"},F={key:0,class:"text-center py-8 text-gray-500"},I={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},M={class:"flex items-center justify-between"},T={class:"font-medium text-gray-900 capitalize"},$={class:"mt-2 text-sm text-gray-600"},Q={class:"bg-white rounded-lg shadow p-6"},R={class:"flex flex-wrap gap-3"},W=_({__name:"DashboardView",setup(q){const d=m(),n=f(),o=h(()=>({totalKeys:d.keys.length,activeKeys:d.keys.filter(i=>i.active).length,adminKeys:d.keys.filter(i=>i.isAdmin).length,validEngines:Object.values(n.enginesStatus).filter(i=>i.valid).length,totalEngines:Object.keys(n.enginesStatus).length}));return w(async()=>{await Promise.all([d.fetchKeys(),n.fetchEnginesStatus()])}),(i,t)=>{const v=E("router-link");return a(),k(p,null,{default:g(()=>[e("div",A,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Dashboard",-1)),e("div",C,[e("div",O,[e("div",V,s(o.value.totalKeys),1),t[1]||(t[1]=e("div",{class:"text-gray-600 mt-1"},"Total API Keys",-1))]),e("div",B,[e("div",j,s(o.value.activeKeys),1),t[2]||(t[2]=e("div",{class:"text-gray-600 mt-1"},"Active Keys",-1))]),e("div",D,[e("div",L,s(o.value.adminKeys),1),t[3]||(t[3]=e("div",{class:"text-gray-600 mt-1"},"Admin Keys",-1))]),e("div",N,[e("div",{class:c(["text-3xl font-bold",o.value.validEngines===o.value.totalEngines?"text-green-600":"text-yellow-600"])},s(o.value.validEngines)+"/"+s(o.value.totalEngines),3),t[4]||(t[4]=e("div",{class:"text-gray-600 mt-1"},"Engines Online",-1))])]),e("div",P,[t[5]||(t[5]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg font-semibold text-gray-900"},"Engine Status")],-1)),e("div",z,[u(n).isLoading?(a(),r("div",F," Loading engine status... ")):(a(),r("div",I,[(a(!0),r(K,null,S(u(n).enginesStatus,(l,x)=>(a(),r("div",{key:x,class:c(["border rounded-lg p-4",l.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"])},[e("div",M,[e("span",T,s(x),1),e("span",{class:c(["px-2 py-1 rounded text-xs font-medium",l.valid?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},s(l.valid?"Online":"Offline"),3)]),e("div",$,s(l.details?.voiceCount??0)+" voices available ",1)],2))),128))]))])]),e("div",Q,[t[8]||(t[8]=e("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Quick Actions",-1)),e("div",R,[y(v,{to:"/keys",class:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"},{default:g(()=>[...t[6]||(t[6]=[b(" Manage API Keys ",-1)])]),_:1}),y(v,{to:"/engines",class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors"},{default:g(()=>[...t[7]||(t[7]=[b(" View Engines ",-1)])]),_:1}),e("button",{onClick:t[0]||(t[0]=l=>u(n).fetchEnginesStatus()),class:"px-4 py-2 border border-gray-300 hover:bg-gray-50 rounded-lg transition-colors"}," Refresh Status ")])])])]),_:1})}}});export{W as default};
